{% extends 'layout.html' %}
{% block content %}
  <div class="max-w-3xl">
    <a href="/" class="text-sm text-gray-600 hover:text-gray-900">← Back</a>
    <h1 class="text-2xl md:text-3xl font-bold tracking-tight mt-2">{{ tool.name }}</h1>
    <p class="text-gray-600 mt-1">{{ tool.subtitle }}</p>
    {% if tool.processing_time %}
      <p class="text-xs text-gray-500 mt-1">Estimated time: {{ tool.processing_time.min_seconds }}–{{ tool.processing_time.max_seconds }}s (avg {{ tool.processing_time.avg_seconds }}s)</p>
    {% endif %}

    <div class="mt-6 bg-white border border-gray-200 rounded-lg p-4">
      <h2 class="text-lg font-medium">Upload</h2>
      <form id="uploadForm" class="mt-3" enctype="multipart/form-data">
        <input id="fileInput" class="block w-full text-sm text-gray-900 file:mr-4 file:rounded-md file:border-0 file:bg-gray-900 file:px-3 file:py-2 file:text-sm file:font-semibold file:text-white hover:file:bg-gray-800" type="file" name="files" multiple>
        <button id="startBtn" type="button" class="mt-3 inline-flex items-center rounded-md bg-gray-900 text-white px-3 py-2 text-sm hover:bg-gray-800">Start Processing</button>
      </form>

      <div class="mt-6">
        <div class="h-2 w-full bg-gray-100 rounded-full overflow-hidden">
          <div id="progressBar" class="h-2 bg-emerald-500 w-0"></div>
        </div>
        <div id="progressText" class="text-sm text-gray-600 mt-2">Idle</div>
      </div>

      <div class="mt-4 hidden" id="downloadSection">
        <a id="downloadLink" href="#" class="inline-flex items-center rounded-md bg-emerald-600 text-white px-3 py-2 text-sm hover:bg-emerald-500">Download Result</a>
      </div>
    </div>
  </div>

  <script>
    window.TOOL_SLUG = {{ tool.slug|tojson }}
  </script>
{% endblock %}